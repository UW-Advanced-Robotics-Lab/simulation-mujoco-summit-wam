<!-- ======================================================
    Copyright UWARL (UW Mechanical and Control Lab).
        
    Author      :: Jack (Jianxiang) Xu
        Contacts    : j337xu@uwaterloo.ca
        Last edits  : Nov 30, 2023 

    Brief       :: Mobile Wagon Playground
        This is a demo playground showcasing the mobile robot,
        configured with 7DOF WAM Arm + BHand + Summit Mobile Robot,
        in a setting of wagon manipulation.

    Updates:
        - [Nov  30, 2023] Initial orientation of wagon and cart, map 3rd floor E7(Tim van Meijel)

====================================================== -->

<mujoco model="playground_wagon_manipulation(v1.0.0)">
    
    <!--##############
        ### IMPORT ###
        ############## -->
    <include file="../components/include_common.xml"/>
    <include file="../components/include_summit_wam_bhand_Dependencies.xml"/> 
    <include file="../components/include_summit_wam_bhand_actuators.xml"/>
    <include file="../components/include_nonholonomic_cart_Dependencies.xml"/>  

    <include file="../components/include_shelves_Dependencies.xml"/>
    <include file="../components/include_walls_Dependencies.xml"/>

    <!--###############
        ### Config: ###
        ############### -->
    <equality>
    <!-- TBD -->
    </equality>

    <visual>
    <!-- TBD -->
    </visual>

    <asset>
        <!-- https://unsplash.com/photos/black-textile-on-brown-wooden-table-BUDn0s7QteI -->
        <texture name="concrete_floor" file="../components/texture/the-creativv-BUDn0s7QteI-unsplash.png" type="2d"/>
        <material name="floor" texture="concrete_floor" reflectance="0.05"/>
    </asset>

    <worldbody>
        <!-- GND -->
        <light directional="true" cutoff="60" exponent="1" diffuse="1 1 1" specular=".1 .1 .1" pos=".1 .2 1.3" dir="-.1 -.2 -1.3"/>
        <geom name="ground" type="plane" pos="0 0 0" size="24 24 1" conaffinity="1" contype="1" material="floor" friction="0.0001 0.001 0.001" group="1"/>

        <!-- Robot -->
        <body name="waterloo_steel" pos="-0.88 0 0" euler="0 0 3.1416">
            <include file="../components/include_summit_wam_bhand_Chain.xml"/>
        </body>
        
        <!-- Cart -->
        <!-- Off-setted along the +y-axis by `0.111546`m because the origin of the cart floor-base is not the same as its geometric center, because of how the mesh was generated, inspite of the cad having the same geometric center origin as intended. -->
        <body name="wagon" pos="0.2 0.111546 0.2" euler="0 0 3.1416" >
            <include file="../components/include_nonholonomic_cart_Chain.xml"/>
        </body>

        <!-- Environment -->
        <!-- <body name="environment" pos="0 -2 0" euler="0 0 0">
            <include file="../components/include_shelves.xml"/>
            <include file="../components/include_walls.xml"/>
        </body> -->
        <!-- Add a horizontal  -->
        <!-- <body name="hor_bar" pos="0 0 0.6" quat="0.7071068 -0.7071068 0 0">
            <geom name="cylinder_0/viz" type="cylinder" size="0.03 0.4" contype="0" conaffinity="0" group="1" rgba="0.3 0.3 0.3 1"/>
            <geom name="cylinder_0/col" type="cylinder" size="0.03 0.4" contype="1" conaffinity="1" group="0" rgba="0.3 0.3 0.3 1"/>
        </body> -->
        <!-- Add two vertical bars at either end -->
        <!-- Left -->
        <!-- <body name="vert_bar_left" pos="0 -0.4 0.3" quat="1 0 0 0">
            <geom name="cylinder_left/viz" type="cylinder" size="0.03 0.3" contype="0" conaffinity="0" group="1" rgba="0.3 0.3 0.3 1"/>
            <geom name="cylinder_left/col" type="cylinder" size="0.03 0.3" contype="1" conaffinity="1" group="0" rgba="0.3 0.3 0.3 1"/>
        </body> -->
        <!-- Right -->
        <!-- <body name="vert_bar_right" pos="0 0.4 0.3" quat="1 0 0 0">
            <geom name="cylinder_right/viz" type="cylinder" size="0.03 0.3" contype="0" conaffinity="0" group="1" rgba="0.3 0.3 0.3 1"/>
            <geom name="cylinder_right/col" type="cylinder" size="0.03 0.3" contype="1" conaffinity="1" group="0" rgba="0.3 0.3 0.3 1"/>
        </body> -->
    </worldbody>

    <!-- Defining a sensor -->
    <!-- https://github.com/google-deepmind/mujoco/issues/353#issuecomment-1162445382 -->
    <!-- Naming sensors -->
    <!-- https://github.com/openai/mujoco-py/issues/26#issuecomment-273637008 -->
    <sensor>
        <!-- Mobile base -->
        <!-- Get Linear acceleration in MB local-frame -->
        <accelerometer name="accelerometer_mb" site="imu_sensor_site_mb"/>
        <!-- Get Linear velocity in MB local-frame -->
        <velocimeter name="velocimeter_mb" site="imu_sensor_site_mb"/>
        <!-- Get Angular velocity in MB local-frame -->
        <gyro name="gyroscope_mb" site="imu_sensor_site_mb"/>
        <!-- Get MB gloabl-position -->
        <!-- “body” refers to the inertial frame of the body, while “xbody” refers to the regular frame of the body (usually centered at the joint with the parent body) -->
        <framepos name="global_pos_mb" objtype="xbody" objname="smt/base_link"/>
        <!-- Get MB gloabl-quaternion -->
        <framequat name="global_quat_mb" objtype="xbody" objname="smt/base_link"/>

        <!-- Wam Base link -->
        <!-- Get Linear acceleration in Wam Base link local-frame -->
        <accelerometer name="accelerometer_wam_base" site="imu_sensor_site_wam_base_link"/>
        <!-- Get Linear velocity in Wam Base link local-frame -->
        <velocimeter name="velocimeter_wam_base" site="imu_sensor_site_wam_base_link"/>
        <!-- Get Angular velocity in Wam Base link local-frame -->
        <gyro name="gyroscope_wam_base" site="imu_sensor_site_wam_base_link"/>
        <!-- Get Wam Base link gloabl-position -->
        <framepos name="global_pos_wam_base" objtype="xbody" objname="wam/base_link"/>
        <!-- Get Wam Base link gloabl-quaternion -->
        <framequat name="global_quat_wam_base" objtype="xbody" objname="wam/base_link"/>

        <!-- Wam Shoulder Yaw link -->
        <!-- Get Linear acceleration in Wam Shoulder Yaw link local-frame -->
        <accelerometer name="accelerometer_wam_shoulder_yaw" site="imu_sensor_site_wam_shoulder_yaw_link"/>
        <!-- Get Linear velocity in Wam Shoulder Yaw link local-frame -->
        <velocimeter name="velocimeter_wam_shoulder_yaw" site="imu_sensor_site_wam_shoulder_yaw_link"/>
        <!-- Get Angular velocity in Wam Shoulder Yaw link local-frame -->
        <gyro name="gyroscope_wam_shoulder_yaw" site="imu_sensor_site_wam_shoulder_yaw_link"/>
        <!-- Get Wam Shoulder Yaw link gloabl-position -->
        <framepos name="global_pos_wam_shoulder_yaw" objtype="xbody" objname="wam/shoulder_yaw_link"/>
        <!-- Get Wam Shoulder Yaw link gloabl-quaternion -->
        <framequat name="global_quat_wam_shoulder_yaw" objtype="xbody" objname="wam/shoulder_yaw_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_wam_shoulder_yaw" joint="wam/J1"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_wam_shoulder_yaw" joint="wam/J1"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_wam_shoulder_yaw" joint="wam/J1"/>

        <!-- Wam Shoulder Pitch link -->
        <!-- Get Linear acceleration in Wam Shoulder Pitch link local-frame -->
        <accelerometer name="accelerometer_wam_shoulder_pitch" site="imu_sensor_site_wam_shoulder_pitch_link"/>
        <!-- Get Linear velocity in Wam Shoulder Pitch link local-frame -->
        <velocimeter name="velocimeter_wam_shoulder_pitch" site="imu_sensor_site_wam_shoulder_pitch_link"/>
        <!-- Get Angular velocity in Wam Shoulder Pitch link local-frame -->
        <gyro name="gyroscope_wam_shoulder_pitch" site="imu_sensor_site_wam_shoulder_pitch_link"/>
        <!-- Get Wam Shoulder Pitch link gloabl-position -->
        <framepos name="global_pos_wam_shoulder_pitch" objtype="xbody" objname="wam/shoulder_pitch_link"/>
        <!-- Get Wam Shoulder Pitch link gloabl-quaternion -->
        <framequat name="global_quat_wam_shoulder_pitch" objtype="xbody" objname="wam/shoulder_pitch_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_wam_shoulder_pitch" joint="wam/J2"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_wam_shoulder_pitch" joint="wam/J2"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_wam_shoulder_pitch" joint="wam/J2"/>

        <!-- Wam Upper Arm link -->
        <!-- Get Linear acceleration in Wam Upper Arm link local-frame -->
        <accelerometer name="accelerometer_wam_upper_arm" site="imu_sensor_site_wam_upper_arm_link"/>
        <!-- Get Linear velocity in Wam Upper Arm link local-frame -->
        <velocimeter name="velocimeter_wam_upper_arm" site="imu_sensor_site_wam_upper_arm_link"/>
        <!-- Get Angular velocity in Wam Upper Arm link local-frame -->
        <gyro name="gyroscope_wam_upper_arm" site="imu_sensor_site_wam_upper_arm_link"/>
        <!-- Get Wam Upper Arm link gloabl-position -->
        <framepos name="global_pos_wam_upper_arm" objtype="xbody" objname="wam/upper_arm_link"/>
        <!-- Get Wam Upper Arm link gloabl-quaternion -->
        <framequat name="global_quat_wam_upper_arm" objtype="xbody" objname="wam/upper_arm_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_wam_upper_arm" joint="wam/J3"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_wam_upper_arm" joint="wam/J3"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_wam_upper_arm" joint="wam/J3"/>

        <!-- Wam Forearm link -->
        <!-- Get Linear acceleration in Wam Forearm link local-frame -->
        <accelerometer name="accelerometer_wam_forearm" site="imu_sensor_site_wam_forearm_link"/>
        <!-- Get Linear velocity in Wam Forearm link local-frame -->
        <velocimeter name="velocimeter_wam_forearm" site="imu_sensor_site_wam_forearm_link"/>
        <!-- Get Angular velocity in Wam Forearm link local-frame -->
        <gyro name="gyroscope_wam_forearm" site="imu_sensor_site_wam_forearm_link"/>
        <!-- Get Wam Forearm link gloabl-position -->
        <framepos name="global_pos_wam_forearm" objtype="xbody" objname="wam/forearm_link"/>
        <!-- Get Wam Forearm link gloabl-quaternion -->
        <framequat name="global_quat_wam_forearm" objtype="xbody" objname="wam/forearm_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_wam_forearm" joint="wam/J4"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_wam_forearm" joint="wam/J4"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_wam_forearm" joint="wam/J4"/>

        <!-- Wam Wrist Yaw link -->
        <!-- Get Linear acceleration in Wam Wrist Yaw link local-frame -->
        <accelerometer name="accelerometer_wam_wrist_yaw" site="imu_sensor_site_wam_wrist_yaw_link"/>
        <!-- Get Linear velocity in Wam Wrist Yaw link local-frame -->
        <velocimeter name="velocimeter_wam_wrist_yaw" site="imu_sensor_site_wam_wrist_yaw_link"/>
        <!-- Get Angular velocity in Wam Wrist Yaw link local-frame -->
        <gyro name="gyroscope_wam_wrist_yaw" site="imu_sensor_site_wam_wrist_yaw_link"/>
        <!-- Get Wam Wrist Yaw link gloabl-position -->
        <framepos name="global_pos_wam_wrist_yaw" objtype="xbody" objname="wam/wrist_yaw_link"/>
        <!-- Get Wam Wrist Yaw link gloabl-quaternion -->
        <framequat name="global_quat_wam_wrist_yaw" objtype="xbody" objname="wam/wrist_yaw_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_wam_wrist_yaw" joint="wam/J5"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_wam_wrist_yaw" joint="wam/J5"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_wam_wrist_yaw" joint="wam/J5"/>

        <!-- Wam Wrist Pitch link -->
        <!-- Get Linear acceleration in Wam Wrist Pitch link local-frame -->
        <accelerometer name="accelerometer_wam_wrist_pitch" site="imu_sensor_site_wam_wrist_pitch_link"/>
        <!-- Get Linear velocity in Wam Wrist Pitch link local-frame -->
        <velocimeter name="velocimeter_wam_wrist_pitch" site="imu_sensor_site_wam_wrist_pitch_link"/>
        <!-- Get Angular velocity in Wam Wrist Pitch link local-frame -->
        <gyro name="gyroscope_wam_wrist_pitch" site="imu_sensor_site_wam_wrist_pitch_link"/>
        <!-- Get Wam Wrist Pitch link gloabl-position -->
        <framepos name="global_pos_wam_wrist_pitch" objtype="xbody" objname="wam/wrist_pitch_link"/>
        <!-- Get Wam Wrist Pitch link gloabl-quaternion -->
        <framequat name="global_quat_wam_wrist_pitch" objtype="xbody" objname="wam/wrist_pitch_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_wam_wrist_pitch" joint="wam/J6"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_wam_wrist_pitch" joint="wam/J6"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_wam_wrist_pitch" joint="wam/J6"/>

        <!-- Wam Wrist Palm link -->
        <!-- Get Linear acceleration in Wam Wrist Palm link local-frame -->
        <accelerometer name="accelerometer_wam_wrist_palm" site="imu_sensor_site_wam_wrist_palm_link"/>
        <!-- Get Linear velocity in Wam Wrist Palm link local-frame -->
        <velocimeter name="velocimeter_wam_wrist_palm" site="imu_sensor_site_wam_wrist_palm_link"/>
        <!-- Get Angular velocity in Wam Wrist Palm link local-frame -->
        <gyro name="gyroscope_wam_wrist_palm" site="imu_sensor_site_wam_wrist_palm_link"/>
        <!-- Get Wam Wrist Palm link gloabl-position -->
        <framepos name="global_pos_wam_wrist_palm" objtype="xbody" objname="wam/wrist_palm_link"/>
        <!-- Get Wam Wrist Palm link gloabl-quaternion -->
        <framequat name="global_quat_wam_wrist_palm" objtype="xbody" objname="wam/wrist_palm_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_wam_wrist_palm" joint="wam/J7"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_wam_wrist_palm" joint="wam/J7"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_wam_wrist_palm" joint="wam/J7"/>

        <!-- Inserted at the wrist: force and torque sensor -->
        <!-- Get Force-Torque readings at the placed F/T-sensor in local-frame -->
        <force name="force_sensor" site="force_torque_sensor"/>
        <torque name="torque_sensor" site="force_torque_sensor"/>

        <!-- BHand -->
        <!-- BHand Palm Link -->
        <!-- Get Linear acceleration in BHand Palm link local-frame -->
        <accelerometer name="accelerometer_bhand_palm" site="imu_sensor_site_bhand_palm_link"/>
        <!-- Get Linear velocity in BHand Palm link local-frame -->
        <velocimeter name="velocimeter_bhand_palm" site="imu_sensor_site_bhand_palm_link"/>
        <!-- Get Angular velocity in BHand Palm link local-frame -->
        <gyro name="gyroscope_bhand_palm" site="imu_sensor_site_bhand_palm_link"/>
        <!-- Get BHand Palm link gloabl-position -->
        <framepos name="global_pos_bhand_palm" objtype="xbody" objname="wam/bhand/bhand_palm_link"/>
        <!-- Get BHand Palm link gloabl-quaternion -->
        <framequat name="global_quat_bhand_palm" objtype="xbody" objname="wam/bhand/bhand_palm_link"/>

        <!-- BHand Finger 1 Prox Link -->
        <!-- Get Linear acceleration in BHand Finger 1 Prox link local-frame -->
        <accelerometer name="accelerometer_bhand_finger_1_prox" site="imu_sensor_site_bhand_finger_1_prox_link"/>
        <!-- Get Linear velocity in BHand Finger 1 Prox link local-frame -->
        <velocimeter name="velocimeter_bhand_finger_1_prox" site="imu_sensor_site_bhand_finger_1_prox_link"/>
        <!-- Get Angular velocity in BHand Finger 1 Prox link local-frame -->
        <gyro name="gyroscope_bhand_finger_1_prox" site="imu_sensor_site_bhand_finger_1_prox_link"/>
        <!-- Get BHand Finger 1 Prox link gloabl-position -->
        <framepos name="global_pos_bhand_finger_1_prox" objtype="xbody" objname="wam/bhand/finger_1/prox_link"/>
        <!-- Get BHand Finger 1 Prox link gloabl-quaternion -->
        <framequat name="global_quat_bhand_finger_1_prox" objtype="xbody" objname="wam/bhand/finger_1/prox_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_bhand_finger_1_prox" joint="bhand/f1/prox"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_bhand_finger_1_prox" joint="bhand/f1/prox"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_bhand_finger_1_prox" joint="bhand/f1/prox"/>

        <!-- BHand Finger 1 Med Link -->
        <!-- Get Linear acceleration in BHand Finger 1 Med link local-frame -->
        <accelerometer name="accelerometer_bhand_finger_1_med" site="imu_sensor_site_bhand_finger_1_med_link"/>
        <!-- Get Linear velocity in BHand Finger 1 Med link local-frame -->
        <velocimeter name="velocimeter_bhand_finger_1_med" site="imu_sensor_site_bhand_finger_1_med_link"/>
        <!-- Get Angular velocity in BHand Finger 1 Med link local-frame -->
        <gyro name="gyroscope_bhand_finger_1_med" site="imu_sensor_site_bhand_finger_1_med_link"/>
        <!-- Get BHand Finger 1 Med link gloabl-position -->
        <framepos name="global_pos_bhand_finger_1_med" objtype="xbody" objname="wam/bhand/finger_1/med_link"/>
        <!-- Get BHand Finger 1 Med link gloabl-quaternion -->
        <framequat name="global_quat_bhand_finger_1_med" objtype="xbody" objname="wam/bhand/finger_1/med_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_bhand_finger_1_med" joint="bhand/f1/med"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_bhand_finger_1_med" joint="bhand/f1/med"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_bhand_finger_1_med" joint="bhand/f1/med"/>

        <!-- BHand Finger 1 Dist Link -->
        <!-- Get Linear acceleration in BHand Finger 1 Dist link local-frame -->
        <accelerometer name="accelerometer_bhand_finger_1_dist" site="imu_sensor_site_bhand_finger_1_dist_link"/>
        <!-- Get Linear velocity in BHand Finger 1 Dist link local-frame -->
        <velocimeter name="velocimeter_bhand_finger_1_dist" site="imu_sensor_site_bhand_finger_1_dist_link"/>
        <!-- Get Angular velocity in BHand Finger 1 Dist link local-frame -->
        <gyro name="gyroscope_bhand_finger_1_dist" site="imu_sensor_site_bhand_finger_1_dist_link"/>
        <!-- Get BHand Finger 1 Dist link gloabl-position -->
        <framepos name="global_pos_bhand_finger_1_dist" objtype="xbody" objname="wam/bhand/finger_1/dist_link"/>
        <!-- Get BHand Finger 1 Dist link gloabl-quaternion -->
        <framequat name="global_quat_bhand_finger_1_dist" objtype="xbody" objname="wam/bhand/finger_1/dist_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_bhand_finger_1_dist" joint="bhand/f1/dist"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_bhand_finger_1_dist" joint="bhand/f1/dist"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_bhand_finger_1_dist" joint="bhand/f1/dist"/>

        <!-- BHand Finger 2 Prox Link -->
        <!-- Get Linear acceleration in BHand Finger 2 Prox link local-frame -->
        <accelerometer name="accelerometer_bhand_finger_2_prox" site="imu_sensor_site_bhand_finger_2_prox_link"/>
        <!-- Get Linear velocity in BHand Finger 2 Prox link local-frame -->
        <velocimeter name="velocimeter_bhand_finger_2_prox" site="imu_sensor_site_bhand_finger_2_prox_link"/>
        <!-- Get Angular velocity in BHand Finger 2 Prox link local-frame -->
        <gyro name="gyroscope_bhand_finger_2_prox" site="imu_sensor_site_bhand_finger_2_prox_link"/>
        <!-- Get BHand Finger 2 Prox link gloabl-position -->
        <framepos name="global_pos_bhand_finger_2_prox" objtype="xbody" objname="wam/bhand/finger_2/prox_link"/>
        <!-- Get BHand Finger 2 Prox link gloabl-quaternion -->
        <framequat name="global_quat_bhand_finger_2_prox" objtype="xbody" objname="wam/bhand/finger_2/prox_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_bhand_finger_2_prox" joint="bhand/f2/prox"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_bhand_finger_2_prox" joint="bhand/f2/prox"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_bhand_finger_2_prox" joint="bhand/f2/prox"/>

        <!-- BHand Finger 2 Med Link -->
        <!-- Get Linear acceleration in BHand Finger 2 Med link local-frame -->
        <accelerometer name="accelerometer_bhand_finger_2_med" site="imu_sensor_site_bhand_finger_2_med_link"/>
        <!-- Get Linear velocity in BHand Finger 2 Med link local-frame -->
        <velocimeter name="velocimeter_bhand_finger_2_med" site="imu_sensor_site_bhand_finger_2_med_link"/>
        <!-- Get Angular velocity in BHand Finger 2 Med link local-frame -->
        <gyro name="gyroscope_bhand_finger_2_med" site="imu_sensor_site_bhand_finger_2_med_link"/>
        <!-- Get BHand Finger 2 Med link gloabl-position -->
        <framepos name="global_pos_bhand_finger_2_med" objtype="xbody" objname="wam/bhand/finger_2/med_link"/>
        <!-- Get BHand Finger 2 Med link gloabl-quaternion -->
        <framequat name="global_quat_bhand_finger_2_med" objtype="xbody" objname="wam/bhand/finger_2/med_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_bhand_finger_2_med" joint="bhand/f2/med"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_bhand_finger_2_med" joint="bhand/f2/med"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_bhand_finger_2_med" joint="bhand/f2/med"/>

        <!-- BHand Finger 2 Dist Link -->
        <!-- Get Linear acceleration in BHand Finger 2 Dist link local-frame -->
        <accelerometer name="accelerometer_bhand_finger_2_dist" site="imu_sensor_site_bhand_finger_2_dist_link"/>
        <!-- Get Linear velocity in BHand Finger 2 Dist link local-frame -->
        <velocimeter name="velocimeter_bhand_finger_2_dist" site="imu_sensor_site_bhand_finger_2_dist_link"/>
        <!-- Get Angular velocity in BHand Finger 2 Dist link local-frame -->
        <gyro name="gyroscope_bhand_finger_2_dist" site="imu_sensor_site_bhand_finger_2_dist_link"/>
        <!-- Get BHand Finger 2 Dist link gloabl-position -->
        <framepos name="global_pos_bhand_finger_2_dist" objtype="xbody" objname="wam/bhand/finger_2/dist_link"/>
        <!-- Get BHand Finger 2 Dist link gloabl-quaternion -->
        <framequat name="global_quat_bhand_finger_2_dist" objtype="xbody" objname="wam/bhand/finger_2/dist_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_bhand_finger_2_dist" joint="bhand/f2/dist"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_bhand_finger_2_dist" joint="bhand/f2/dist"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_bhand_finger_2_dist" joint="bhand/f2/dist"/>

        <!-- BHand Finger 3 Med Link -->
        <!-- Get Linear acceleration in BHand Finger 3 Med link local-frame -->
        <accelerometer name="accelerometer_bhand_finger_3_med" site="imu_sensor_site_bhand_finger_3_med_link"/>
        <!-- Get Linear velocity in BHand Finger 3 Med link local-frame -->
        <velocimeter name="velocimeter_bhand_finger_3_med" site="imu_sensor_site_bhand_finger_3_med_link"/>
        <!-- Get Angular velocity in BHand Finger 3 Med link local-frame -->
        <gyro name="gyroscope_bhand_finger_3_med" site="imu_sensor_site_bhand_finger_3_med_link"/>
        <!-- Get BHand Finger 3 Med link gloabl-position -->
        <framepos name="global_pos_bhand_finger_3_med" objtype="xbody" objname="wam/bhand/finger_3/med_link"/>
        <!-- Get BHand Finger 3 Med link gloabl-quaternion -->
        <framequat name="global_quat_bhand_finger_3_med" objtype="xbody" objname="wam/bhand/finger_3/med_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_bhand_finger_3_med" joint="bhand/f3/med"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_bhand_finger_3_med" joint="bhand/f3/med"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_bhand_finger_3_med" joint="bhand/f3/med"/>

        <!-- BHand Finger 3 Dist Link -->
        <!-- Get Linear acceleration in BHand Finger 3 Dist link local-frame -->
        <accelerometer name="accelerometer_bhand_finger_3_dist" site="imu_sensor_site_bhand_finger_3_dist_link"/>
        <!-- Get Linear velocity in BHand Finger 3 Dist link local-frame -->
        <velocimeter name="velocimeter_bhand_finger_3_dist" site="imu_sensor_site_bhand_finger_3_dist_link"/>
        <!-- Get Angular velocity in BHand Finger 3 Dist link local-frame -->
        <gyro name="gyroscope_bhand_finger_3_dist" site="imu_sensor_site_bhand_finger_3_dist_link"/>
        <!-- Get BHand Finger 3 Dist link gloabl-position -->
        <framepos name="global_pos_bhand_finger_3_dist" objtype="xbody" objname="wam/bhand/finger_3/dist_link"/>
        <!-- Get BHand Finger 3 Dist link gloabl-quaternion -->
        <framequat name="global_quat_bhand_finger_3_dist" objtype="xbody" objname="wam/bhand/finger_3/dist_link"/>
        <!-- Get joint position -->
        <jointpos name="joint_pos_bhand_finger_3_dist" joint="bhand/f3/dist"/>
        <!-- Get joint velocity -->
        <jointvel name="joint_vel_bhand_finger_3_dist" joint="bhand/f3/dist"/>
        <!-- Get Joint effort -->
        <jointactuatorfrc name="joint_effort_bhand_finger_3_dist" joint="bhand/f3/dist"/>

        <!-- Cart base -->
        <!-- Get Linear acceleration in Cart local-frame -->
        <!-- Place two IMUs to get-back yaw angular-acceleration -->
        <accelerometer name="accelerometer_1_cart" site="imu_sensor_site_1_cart_base_link"/>
        <accelerometer name="accelerometer_2_cart" site="imu_sensor_site_2_cart_base_link"/>
        <!-- Get Linear velocity in Cart local-frame -->
        <velocimeter name="velocimeter_cart" site="imu_sensor_site_1_cart_base_link"/>
        <!-- Get Angular velocity in Cart local-frame -->
        <gyro name="gyroscope_cart" site="imu_sensor_site_1_cart_base_link"/>
        <!-- Get Cart gloabl-position -->
        <!-- “body” refers to the inertial frame of the body, while “xbody” refers to the regular frame of the body (usually centered at the joint with the parent body) -->
        <framepos name="global_pos_cart" objtype="site" objname="imu_sensor_site_1_cart_base_link"/>
        <!-- Get Cart gloabl-quaternion -->
        <framequat name="global_quat_cart" objtype="site" objname="imu_sensor_site_1_cart_base_link"/>

    </sensor>
    <!-- Palm and horizontal-bar pairs -->
    <contact>
    <!-- https://mujoco.readthedocs.io/en/stable/modeling.html#reference -->
    <!-- Larger time-constant should lead to slower acceleration when trying to push a penetrated object out of another. (0.02 to 3.2)-->
        <!-- <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_palm_link_p1/col" condim="3" solref="0.1 2" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_palm_link_p2/col" condim="3" solref="0.1 2" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_palm_link_p3/col" condim="3" solref="0.1 2" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_palm_link_p4/col" condim="3" solref="0.1 2" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_1_prox_link_p1/col" condim="3" solref="0.06 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_1_prox_link_p2/col" condim="3" solref="0.06 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_1_prox_link_p3/col" condim="3" solref="0.06 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_1_med_link_p0/col" condim="3" solref="0.06 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_1_dist_link_p0/col" condim="3" solref="0.1 2" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_2_prox_link_p1/col" condim="3" solref="0.06 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_2_prox_link_p2/col" condim="3" solref="0.06 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_2_prox_link_p3/col" condim="3" solref="0.06 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_2_med_link_p0/col" condim="3" solref="0.06 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_2_dist_link_p0/col" condim="3" solref="0.1 2" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_3_med_link_p0/col" condim="3" solref="0.06 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cart/col/handle/horizontal_cylinder" geom2="bhand_finger_3_dist_link_p0/col" condim="3" solref="0.1 2" solimp=".9 .95 .01 0.9 2"/> -->
        <!-- <pair geom1="cylinder_0/col" geom2="bhand_palm_link_p1/col" condim="3" solref="1 1.6" solimp=".9 .95 .02 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_palm_link_p2/col" condim="3" solref="1 1.6" solimp=".9 .95 .02 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_palm_link_p3/col" condim="3" solref="1 1.6" solimp=".9 .95 .02 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_palm_link_p4/col" condim="3" solref="1 1.6" solimp=".9 .95 .02 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_1_prox_link_p1/col" condim="3" solref="0.1 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_1_prox_link_p2/col" condim="3" solref="0.1 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_1_prox_link_p3/col" condim="3" solref="0.1 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_1_med_link_p0/col" condim="3" solref="0.1 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_1_dist_link_p0/col" condim="3" solref="1 1.6" solimp=".9 .95 .02 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_2_prox_link_p1/col" condim="3" solref="0.1 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_2_prox_link_p2/col" condim="3" solref="0.1 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_2_prox_link_p3/col" condim="3" solref="0.1 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_2_med_link_p0/col" condim="3" solref="0.1 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_2_dist_link_p0/col" condim="3" solref="1 1.6" solimp=".9 .95 .02 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_3_med_link_p0/col" condim="3" solref="0.1 1" solimp=".9 .95 .01 0.9 2"/>
        <pair geom1="cylinder_0/col" geom2="bhand_finger_3_dist_link_p0/col" condim="3" solref="1 1.6" solimp=".9 .95 .02 0.9 2"/> -->
    </contact>
    
</mujoco>
